<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Reshape from wide to long — wideToLong • lsr</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Reshape from wide to long — wideToLong" />
<meta property="og:description" content="Reshape a data frame from wide form to long form using the variable names" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">lsr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.5.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Reshape from wide to long</h1>
    
    <div class="hidden name"><code>wideToLong.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Reshape a data frame from wide form to long form using the variable names</p>
    </div>

    <pre class="usage"><span class='fu'>wideToLong</span><span class='op'>(</span><span class='va'>data</span>, within <span class='op'>=</span> <span class='st'>"within"</span>, sep <span class='op'>=</span> <span class='st'>"_"</span>, split <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>The data frame.</p></td>
    </tr>
    <tr>
      <th>within</th>
      <td><p>Name to give to the long-form within-subject factor(s)</p></td>
    </tr>
    <tr>
      <th>sep</th>
      <td><p>Separator string used in wide-form variable names</p></td>
    </tr>
    <tr>
      <th>split</th>
      <td><p>Should multiple within-subject factors be split into multiple variables?</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A data frame containing the reshaped data</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The <code>wideToLong</code> function is the companion function to <code>longToWide</code>.
The <code>data</code> argument is a "wide form" data frame, in which each row corresponds to
a single experimental unit (e.g., a single subject).  The output is a "long form" data
frame, in which each row corresponds to a single observation.</p>
<p>The <code>wideToLong</code> function relies on the variable names to determine how the data
should be reshaped. The naming scheme for these variables places the name of the
measured variable first, followed by the levels of the within-subjects variable(s),
separated by the separator string <code>sep</code> (default is <code>_</code>) The separator
string cannot appear anywhere else in the variable names: variables without
the separator string are assumed to be between-subject variables.</p>
<p>If the experiment measured the <code>accuracy</code> of participants at some task
at two different points in time, then the wide form data frame would contain
variables of the form <code>accuracy_t1</code> and <code>accuracy_t2</code>. After
reshaping, the long form data frame would contain one measured variable
called <code>accuracy</code>, and a within-subjects factor with levels <code>t1</code>
and <code>t2</code>. The name of the within-subjects factor is the <code>within</code>
argument.</p>
<p>The function supports experimental designs with multiple within-subjects
factors and multi-variable observations. For example, suppose each
experimental subject is tested in two <code>conditions</code> (<code>cond1</code> and
<code>cond2</code>), on each of two <code>days</code> (<code>day1</code> and <code>day2</code>),
yielding an experimental design in which four observations are made for
each subject. For each such observation, we record the mean response time
<code>MRT</code> for and proportion of correct responses <code>PC</code> for the
participant.  The variable names needed for a design such as this one would
be <code>MRT_cond1_day1</code>, <code>MRT_cond1_day2</code>, <code>PC_cond1_day1</code>, etc.
The <code>within</code> argument should be a vector of names for the
within-subject factors: in this case, <code>within = c("condition","day")</code>.</p>
<p>By default, if there are multiple within-subject factors implied by the
existence of multiple separators, the output will keep these as distinct
variables in the long form data frame (<code>split=FALSE</code>). If
<code>split=TRUE</code>, the within-subject factors will be collapsed into a
single variable.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='longToWide.html'>longToWide</a></code>, <code><a href='https://rdrr.io/r/stats/reshape.html'>reshape</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Outcome measure is mean response time (MRT), measured in two conditions</span>
<span class='co'># with 4 participants. All participants participate in both conditions.</span>

<span class='va'>wide</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span> accuracy_t1 <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span> <span class='fl'>.15</span>,<span class='fl'>.50</span>,<span class='fl'>.78</span>,<span class='fl'>.55</span> <span class='op'>)</span>,  <span class='co'># accuracy at time point 1</span>
                    accuracy_t2 <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span> <span class='fl'>.55</span>,<span class='fl'>.32</span>,<span class='fl'>.99</span>,<span class='fl'>.60</span> <span class='op'>)</span>,  <span class='co'># accuracy at time point 2</span>
                    id <span class='op'>=</span> <span class='fl'>1</span><span class='op'>:</span><span class='fl'>4</span> <span class='op'>)</span>                           <span class='co'># id variable</span>

<span class='co'># convert to long form</span>
<span class='fu'>wideToLong</span><span class='op'>(</span> <span class='va'>wide</span>, <span class='st'>"time"</span> <span class='op'>)</span>
</div><div class='output co'>#&gt;   id time accuracy
#&gt; 1  1   t1     0.15
#&gt; 2  2   t1     0.50
#&gt; 3  3   t1     0.78
#&gt; 4  4   t1     0.55
#&gt; 5  1   t2     0.55
#&gt; 6  2   t2     0.32
#&gt; 7  3   t2     0.99
#&gt; 8  4   t2     0.60</div><div class='input'>

<span class='co'># A more complex design with multiple within-subject factors. Again, we have only</span>
<span class='co'># four participants, but now we have two different outcome measures, mean response</span>
<span class='co'># time (MRT) and the proportion of correct responses (PC). Additionally, we have two</span>
<span class='co'># different repeated measures variables. As before, we have the experimental condition</span>
<span class='co'># (cond1, cond2), but this time each participant does both conditions on two different</span>
<span class='co'># days (day1, day2). Finally, we have multiple between-subject variables too, namely</span>
<span class='co'># id and gender.</span>

<span class='va'>wide2</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span> id <span class='op'>=</span> <span class='fl'>1</span><span class='op'>:</span><span class='fl'>4</span>,
                     gender <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"male"</span>,<span class='st'>"male"</span>,<span class='st'>"female"</span>,<span class='st'>"female"</span><span class='op'>)</span> <span class='op'>)</span>,
                     MRT_cond1_day1 <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span> <span class='fl'>415</span>,<span class='fl'>500</span>,<span class='fl'>478</span>,<span class='fl'>550</span> <span class='op'>)</span>,
                     MRT_cond2_day1 <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span> <span class='fl'>455</span>,<span class='fl'>532</span>,<span class='fl'>499</span>,<span class='fl'>602</span> <span class='op'>)</span>,
                     MRT_cond1_day2 <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span> <span class='fl'>400</span>,<span class='fl'>490</span>,<span class='fl'>468</span>,<span class='fl'>502</span> <span class='op'>)</span>,
                     MRT_cond2_day2 <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span> <span class='fl'>450</span>,<span class='fl'>518</span>,<span class='fl'>474</span>,<span class='fl'>588</span> <span class='op'>)</span>,
                     PC_cond1_day1 <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span> <span class='fl'>79</span>,<span class='fl'>83</span>,<span class='fl'>91</span>,<span class='fl'>75</span> <span class='op'>)</span>,
                     PC_cond2_day1 <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span> <span class='fl'>82</span>,<span class='fl'>86</span>,<span class='fl'>90</span>,<span class='fl'>78</span> <span class='op'>)</span>,
                     PC_cond1_day2 <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span> <span class='fl'>88</span>,<span class='fl'>92</span>,<span class='fl'>98</span>,<span class='fl'>89</span> <span class='op'>)</span>,
                     PC_cond2_day2 <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span> <span class='fl'>93</span>,<span class='fl'>97</span>,<span class='fl'>100</span>,<span class='fl'>95</span> <span class='op'>)</span> <span class='op'>)</span>

<span class='co'># conversion to long form:</span>
<span class='fu'>wideToLong</span><span class='op'>(</span> <span class='va'>wide2</span> <span class='op'>)</span>
</div><div class='output co'>#&gt;    id gender MRT  PC within1 within2
#&gt; 1   1   male 415  79   cond1    day1
#&gt; 2   2   male 500  83   cond1    day1
#&gt; 3   3 female 478  91   cond1    day1
#&gt; 4   4 female 550  75   cond1    day1
#&gt; 5   1   male 455  82   cond2    day1
#&gt; 6   2   male 532  86   cond2    day1
#&gt; 7   3 female 499  90   cond2    day1
#&gt; 8   4 female 602  78   cond2    day1
#&gt; 9   1   male 400  88   cond1    day2
#&gt; 10  2   male 490  92   cond1    day2
#&gt; 11  3 female 468  98   cond1    day2
#&gt; 12  4 female 502  89   cond1    day2
#&gt; 13  1   male 450  93   cond2    day2
#&gt; 14  2   male 518  97   cond2    day2
#&gt; 15  3 female 474 100   cond2    day2
#&gt; 16  4 female 588  95   cond2    day2</div><div class='input'><span class='fu'>wideToLong</span><span class='op'>(</span> <span class='va'>wide2</span>, within <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"condition"</span>,<span class='st'>"day"</span><span class='op'>)</span> <span class='op'>)</span>
</div><div class='output co'>#&gt;    id gender MRT  PC condition  day
#&gt; 1   1   male 415  79     cond1 day1
#&gt; 2   2   male 500  83     cond1 day1
#&gt; 3   3 female 478  91     cond1 day1
#&gt; 4   4 female 550  75     cond1 day1
#&gt; 5   1   male 455  82     cond2 day1
#&gt; 6   2   male 532  86     cond2 day1
#&gt; 7   3 female 499  90     cond2 day1
#&gt; 8   4 female 602  78     cond2 day1
#&gt; 9   1   male 400  88     cond1 day2
#&gt; 10  2   male 490  92     cond1 day2
#&gt; 11  3 female 468  98     cond1 day2
#&gt; 12  4 female 502  89     cond1 day2
#&gt; 13  1   male 450  93     cond2 day2
#&gt; 14  2   male 518  97     cond2 day2
#&gt; 15  3 female 474 100     cond2 day2
#&gt; 16  4 female 588  95     cond2 day2</div><div class='input'>
<span class='co'># treat "condition x day" as a single repeated measures variable:</span>
<span class='fu'>wideToLong</span><span class='op'>(</span> <span class='va'>wide2</span>, split <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>
</div><div class='output co'>#&gt;    id gender     within MRT  PC
#&gt; 1   1   male cond1_day1 415  79
#&gt; 2   2   male cond1_day1 500  83
#&gt; 3   3 female cond1_day1 478  91
#&gt; 4   4 female cond1_day1 550  75
#&gt; 5   1   male cond2_day1 455  82
#&gt; 6   2   male cond2_day1 532  86
#&gt; 7   3 female cond2_day1 499  90
#&gt; 8   4 female cond2_day1 602  78
#&gt; 9   1   male cond1_day2 400  88
#&gt; 10  2   male cond1_day2 490  92
#&gt; 11  3 female cond1_day2 468  98
#&gt; 12  4 female cond1_day2 502  89
#&gt; 13  1   male cond2_day2 450  93
#&gt; 14  2   male cond2_day2 518  97
#&gt; 15  3 female cond2_day2 474 100
#&gt; 16  4 female cond2_day2 588  95</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Danielle Navarro.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


